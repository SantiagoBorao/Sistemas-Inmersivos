<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Marker Tracker</title>
    <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@b61cf9a7e46a86119823625634a7b4f5098cb443/dist/aframe-master.min.js"></script>
    <link rel="stylesheet" href="/style.css" />
    <script src="script.js"></script>
  </head>
  <body>
    <div id="text">
      <p>
        Para poder utilizar este módulo es necesario
        <strong>Chrome >= 88.0.4313.2</strong> y también la opción
        <strong>"WebXR Incubations"</strong> habilitada en
        <strong>chrome://flags</strong>.
      </p>
    </div>
    <!xr-image-tracker que se encargará de hacer el seguimiento de todas las imágenes registradas>
    <a-scene
      xr-image-tracker
      background="color: #ECECEC"
      webxr="requiredFeatures: image-tracking, local-floor; "
    >
      <!Necesitaremos crear un asset para cada imagen que queremos registrar para hacer su seguimiento>
      <!Esta imagen se pasará al componente xr-tracked-image para su reconocimiento>
      <a-assets id="assets">
        <img id="hiro" src="hiro.png" />
        <img id="qrcode" src="qrcode.png" />
      </a-assets>

      <!xr-tracked-image para registrar las entidades que contendrán los elementos virtuales a visualizar, asociados a la imagen>
      <!En la entidad asociada a cada componente xr-tracked-image podemos definir los componentes 3D 
      de la escena que se visualizarán al reconocer la imagen.>
      <a-entity xr-tracked-image="element: #hiro; widthInMeters: 0.08">
        <a-box
          position="0 0.03 0"
          rotation="0 0 0"
          scale="0.03 0.03 0.03"
          color="red"
          opacity="0.7"
        ></a-box>
      </a-entity>
      <a-entity xr-tracked-image="element: #qrcode; widthInMeters: 0.08">
        <a-box
          position="0 0.03 0"
          rotation="0 0 0"
          scale="0.03 0.03 0.03"
          color="green"
          opacity="0.7"
        ></a-box>
      </a-entity>
    </a-scene>
  </body>
</html>
